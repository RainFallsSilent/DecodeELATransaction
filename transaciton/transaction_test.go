package transaciton

import (
	"encoding/json"
	"fmt"
	"testing"
)

func TestDecodeRawTransaction(t *testing.T) {
	rawTx := "09080101001335323536323138353533303237393937323030017DDF16ADADAC5AC1B9A722C83385AD9E20C687C598F5E3FB9F21F57C9A3D071501000000000002B037DB964A231458D2D6FFD5EA18944C4F90E63D547C5D3B9874DF66A4EAD0A3F0BDA6BD38000000000000004BCECE202B607106DA2A1525D498BCA302763CC2F7030028643763663835326561373036376234366432623261663763346437386562326238633636373133360004B1B738000000554552665A6262354261487A6844744E39356E66586831743143484A3258756432734E20746F206437636638353265613730363762343664326232616637633464373865623262386336363731333620E8BDACE8B4A6B037DB964A231458D2D6FFD5EA18944C4F90E63D547C5D3B9874DF66A4EAD0A300B864D94500000000000000215D5CE05A4598AF5FECF63E93C29D1B476EF4D1E300000000000141408016FF0A5D7139BE1E271797978433E26F0160BF37F7A99C180A936BD7D47A65CA088F454BCFAF39489211AF2925583E293E875EE9F27984933BB74010D4BC6D232103305658E3BD6D692704C0F7EC6F4FABA30606FBFA066447CDF0EA5B6F51E63ECDAC"

	txInfo, err := DecodeRawTransaction(rawTx)
	if err != nil {
		fmt.Println(err)
	} else {
		txData, _ := json.Marshal(txInfo)
		fmt.Println(string(txData))
	}
}

func TestPublicKeyToAddress(t *testing.T) {
	pkStr := "03c275d37d013ed348e05d7730fea7a950b6f6cb41a29bbe8a54c5bc8256b4c78d"

	addr, _ := PublicKeyToAddress(pkStr)
	fmt.Println("pk address:", addr)
}

func TestCodeToAddress(t *testing.T) {
	codeStr := "2103c275d37d013ed348e05d7730fea7a950b6f6cb41a29bbe8a54c5bc8256b4c78dac"

	addr, _ := CodeToAddress(codeStr)
	fmt.Println("code address:", addr)
}
